\doxysubsection{auth\+\_\+switch\+\_\+request.\+js}
\hypertarget{a00329_source}{}\label{a00329_source}\index{auth\_switch\_request.js@{auth\_switch\_request.js}}
\mbox{\hyperlink{a00329}{Ir a la documentaci√≥n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{a00329_source_l00001}\mbox{\hyperlink{a00329_ae2475e10618961c050dcba04e8c42331_ae2475e10618961c050dcba04e8c42331}{00001}}\ \textcolor{stringliteral}{'use\ strict'};}
\DoxyCodeLine{\Hypertarget{a00329_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{a00329_source_l00003}00003\ \textcolor{comment}{//\ http://dev.mysql.com/doc/internals/en/connection-\/phase-\/packets.html\#packet-\/Protocol::AuthSwitchRequest}}
\DoxyCodeLine{\Hypertarget{a00329_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{a00329_source_l00005}\mbox{\hyperlink{a00329_adbc81c45b48c6cdfffe9fc4752007493_adbc81c45b48c6cdfffe9fc4752007493}{00005}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{a00776}{Packet}}\ =\ require(\textcolor{stringliteral}{'../packets/packet'});}
\DoxyCodeLine{\Hypertarget{a00329_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{a00329_source_l00007}\mbox{\hyperlink{a00736}{00007}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{a00736}{AuthSwitchRequest}}\ \{}
\DoxyCodeLine{\Hypertarget{a00329_source_l00008}\mbox{\hyperlink{a00736_a5613f54b39d40834d8aad8c95c2c1fbf_a5613f54b39d40834d8aad8c95c2c1fbf}{00008}}\ \ \ \mbox{\hyperlink{a00736_a5613f54b39d40834d8aad8c95c2c1fbf_a5613f54b39d40834d8aad8c95c2c1fbf}{constructor}}(opts)\ \{}
\DoxyCodeLine{\Hypertarget{a00329_source_l00009}00009\ \ \ \ \ this.pluginName\ =\ opts.pluginName;}
\DoxyCodeLine{\Hypertarget{a00329_source_l00010}00010\ \ \ \ \ this.pluginData\ =\ opts.pluginData;}
\DoxyCodeLine{\Hypertarget{a00329_source_l00011}00011\ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00329_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{a00329_source_l00013}\mbox{\hyperlink{a00736_aa52cedcb51572053d55a380b38bc9d96_aa52cedcb51572053d55a380b38bc9d96}{00013}}\ \ \ \mbox{\hyperlink{a00736_aa52cedcb51572053d55a380b38bc9d96_aa52cedcb51572053d55a380b38bc9d96}{toPacket}}()\ \{}
\DoxyCodeLine{\Hypertarget{a00329_source_l00014}00014\ \ \ \ \ \textcolor{keyword}{const}\ length\ =\ 6\ +\ this.pluginName.length\ +\ this.pluginData.length;}
\DoxyCodeLine{\Hypertarget{a00329_source_l00015}00015\ \ \ \ \ \textcolor{keyword}{const}\ buffer\ =\ Buffer.allocUnsafe(length);}
\DoxyCodeLine{\Hypertarget{a00329_source_l00016}00016\ \ \ \ \ \textcolor{keyword}{const}\ packet\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{a00329_adbc81c45b48c6cdfffe9fc4752007493_adbc81c45b48c6cdfffe9fc4752007493}{Packet}}(0,\ buffer,\ 0,\ length);}
\DoxyCodeLine{\Hypertarget{a00329_source_l00017}00017\ \ \ \ \ packet.offset\ =\ 4;}
\DoxyCodeLine{\Hypertarget{a00329_source_l00018}00018\ \ \ \ \ packet.writeInt8(0xfe);}
\DoxyCodeLine{\Hypertarget{a00329_source_l00019}00019\ \ \ \ \ \textcolor{comment}{//\ TODO:\ use\ server\ encoding}}
\DoxyCodeLine{\Hypertarget{a00329_source_l00020}00020\ \ \ \ \ packet.writeNullTerminatedString(this.pluginName,\ \textcolor{stringliteral}{'cesu8'});}
\DoxyCodeLine{\Hypertarget{a00329_source_l00021}00021\ \ \ \ \ packet.writeBuffer(this.pluginData);}
\DoxyCodeLine{\Hypertarget{a00329_source_l00022}00022\ \ \ \ \ \textcolor{keywordflow}{return}\ packet;}
\DoxyCodeLine{\Hypertarget{a00329_source_l00023}00023\ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00329_source_l00024}00024\ }
\DoxyCodeLine{\Hypertarget{a00329_source_l00025}\mbox{\hyperlink{a00736_ad5685a4a6e5f4468d38056cdff6d1543_ad5685a4a6e5f4468d38056cdff6d1543}{00025}}\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{a00736_ad5685a4a6e5f4468d38056cdff6d1543_ad5685a4a6e5f4468d38056cdff6d1543}{fromPacket}}(packet)\ \{}
\DoxyCodeLine{\Hypertarget{a00329_source_l00026}00026\ \ \ \ \ packet.readInt8();\ \textcolor{comment}{//\ marker}}
\DoxyCodeLine{\Hypertarget{a00329_source_l00027}00027\ \ \ \ \ \textcolor{comment}{//\ assert\ marker\ ==\ 0xfe?}}
\DoxyCodeLine{\Hypertarget{a00329_source_l00028}00028\ \ \ \ \ \textcolor{comment}{//\ TODO:\ use\ server\ encoding}}
\DoxyCodeLine{\Hypertarget{a00329_source_l00029}00029\ \ \ \ \ \textcolor{keyword}{const}\ name\ =\ packet.readNullTerminatedString(\textcolor{stringliteral}{'cesu8'});}
\DoxyCodeLine{\Hypertarget{a00329_source_l00030}00030\ \ \ \ \ \textcolor{keyword}{const}\ data\ =\ packet.readBuffer();}
\DoxyCodeLine{\Hypertarget{a00329_source_l00031}00031\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{a01276_a456129e7b0b539b611d9a40c0ffff0d3_a456129e7b0b539b611d9a40c0ffff0d3}{AuthSwitchRequest}}(\{}
\DoxyCodeLine{\Hypertarget{a00329_source_l00032}00032\ \ \ \ \ \ \ pluginName:\ name,}
\DoxyCodeLine{\Hypertarget{a00329_source_l00033}00033\ \ \ \ \ \ \ pluginData:\ data}
\DoxyCodeLine{\Hypertarget{a00329_source_l00034}00034\ \ \ \ \ \});}
\DoxyCodeLine{\Hypertarget{a00329_source_l00035}00035\ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00329_source_l00036}00036\ \}}
\DoxyCodeLine{\Hypertarget{a00329_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{a00329_source_l00038}\mbox{\hyperlink{a00329_aa4072ba4b6b56b0fb6f4801f17ab2b34_aa4072ba4b6b56b0fb6f4801f17ab2b34}{00038}}\ module.exports\ =\ \mbox{\hyperlink{a01276_a456129e7b0b539b611d9a40c0ffff0d3_a456129e7b0b539b611d9a40c0ffff0d3}{AuthSwitchRequest}};}

\end{DoxyCode}
