\doxysubsection{Referencia del archivo medicion\+Controller.\+js}
\label{a00005}\index{medicionController.js@{medicionController.js}}
\doxysubsubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\textbf{ import} \{ \textbf{ obtener\+Mediciones}, \textbf{ enviar\+Medicion}, \textbf{ obtener\+Ultima\+Medicion} \} from \textquotesingle{}../services/\textbf{ medicion\+Service.\+js}\textquotesingle{}
\item 
export const \textbf{ get\+Mediciones}
\begin{DoxyCompactList}\small\item\em @function get\+Mediciones @async \end{DoxyCompactList}\item 
export const \textbf{ post\+Medicion}
\begin{DoxyCompactList}\small\item\em @function post\+Medicion @async \end{DoxyCompactList}\item 
export const \textbf{ get\+Ultima\+Medicion}
\begin{DoxyCompactList}\small\item\em @function get\+Ultima\+Medicion @async \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsubsection{Documentación de variables}
\index{medicionController.js@{medicionController.js}!getMediciones@{getMediciones}}
\index{getMediciones@{getMediciones}!medicionController.js@{medicionController.js}}
\doxyparagraph{getMediciones}
{\footnotesize\ttfamily \label{a00005_a39f96dc7b51d953e4e65a08564e73d5a_a39f96dc7b51d953e4e65a08564e73d5a} 
export const get\+Mediciones}

{\bfseries Valor inicial\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ async\ (req,\ res)\ =>\ \{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ \{\ lugar,\ tipo\_gas,\ desde\_hora,\ hasta\_hora\ \}\ =\ req.query;}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ mediciones\ =\ await\ obtenerMediciones(lugar,\ tipo\_gas,\ desde\_hora,\ hasta\_hora);}
\DoxyCodeLine{\ \ \ \ res.status(200).json(mediciones);}
\DoxyCodeLine{\ \ \}\ \textcolor{keywordflow}{catch}\ (error)\ \{}
\DoxyCodeLine{\ \ \ \ res.status(400).json(\{\ message:\ error.message\ \});}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


@function get\+Mediciones @async 


\begin{DoxyParams}{Parámetros}
{\em \{\+Object\}} & req -\/ Objeto de solicitud HTTP. \\
\hline
{\em \{\+Object\}} & res -\/ Objeto de respuesta HTTP. @description Obtiene todas las mediciones con filtros opcionales. Los filtros incluyen lugar, tipo de gas, desde\+\_\+hora y hasta\+\_\+hora. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
\{Promise$<$void$>$\} Respuesta con el resultado de la operación. 
\end{DoxyReturn}


Definición en la línea \textbf{ 18} del archivo \textbf{ medicion\+Controller.\+js}.

\index{medicionController.js@{medicionController.js}!getUltimaMedicion@{getUltimaMedicion}}
\index{getUltimaMedicion@{getUltimaMedicion}!medicionController.js@{medicionController.js}}
\doxyparagraph{getUltimaMedicion}
{\footnotesize\ttfamily \label{a00005_a506c19b39343a5688cf622b036cdddd7_a506c19b39343a5688cf622b036cdddd7} 
export const get\+Ultima\+Medicion}

{\bfseries Valor inicial\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ async\ (req,\ res)\ =>\ \{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ ultimaMedicion\ =\ await\ obtenerUltimaMedicion();}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (!ultimaMedicion)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \textcolor{keywordflow}{return}\ res.status(404).json(\{\ message:\ \textcolor{stringliteral}{'No\ se\ encontró\ ninguna\ medición'}\ \});}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ res.status(200).json(ultimaMedicion);}
\DoxyCodeLine{\ \ \}\ \textcolor{keywordflow}{catch}\ (error)\ \{}
\DoxyCodeLine{\ \ \ \ res.status(400).json(\{\ message:\ error.message\ \});}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


@function get\+Ultima\+Medicion @async 


\begin{DoxyParams}{Parámetros}
{\em \{\+Object\}} & req -\/ Objeto de solicitud HTTP. \\
\hline
{\em \{\+Object\}} & res -\/ Objeto de respuesta HTTP. @description Obtiene la última medición registrada. Si no se encuentra ninguna medición, se retorna un error 404. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
\{Promise$<$void$>$\} Respuesta con la última medición o un mensaje de error. 
\end{DoxyReturn}


Definición en la línea \textbf{ 62} del archivo \textbf{ medicion\+Controller.\+js}.

\index{medicionController.js@{medicionController.js}!import@{import}}
\index{import@{import}!medicionController.js@{medicionController.js}}
\doxyparagraph{import}
{\footnotesize\ttfamily \label{a00005_a59be084da8908b7d77ff34b25cd84488_a59be084da8908b7d77ff34b25cd84488} 
import \{ \textbf{ obtener\+Mediciones}, \textbf{ enviar\+Medicion}, \textbf{ obtener\+Ultima\+Medicion} \} from \textquotesingle{}../services/\textbf{ medicion\+Service.\+js}\textquotesingle{}}



Definición en la línea \textbf{ 1} del archivo \textbf{ medicion\+Controller.\+js}.

\index{medicionController.js@{medicionController.js}!postMedicion@{postMedicion}}
\index{postMedicion@{postMedicion}!medicionController.js@{medicionController.js}}
\doxyparagraph{postMedicion}
{\footnotesize\ttfamily \label{a00005_ade4b47fa63ce1524d54b4855698c2aee_ade4b47fa63ce1524d54b4855698c2aee} 
export const post\+Medicion}

{\bfseries Valor inicial\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ async\ (req,\ res)\ =>\ \{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ nuevaMedicion\ =\ req.body;}
\DoxyCodeLine{\ \ \ \ await\ enviarMedicion(nuevaMedicion);}
\DoxyCodeLine{\ \ \ \ res.status(201).json(\{\ message:\ \textcolor{stringliteral}{'Medición\ creada\ correctamente'}\ \});}
\DoxyCodeLine{\ \ \}\ \textcolor{keywordflow}{catch}\ (error)\ \{}
\DoxyCodeLine{\ \ \ \ res.status(400).json(\{\ message:\ error.message\ \});}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


@function post\+Medicion @async 


\begin{DoxyParams}{Parámetros}
{\em \{\+Object\}} & req -\/ Objeto de solicitud HTTP. \\
\hline
{\em \{\+Object\}} & res -\/ Objeto de respuesta HTTP. @description Crea una nueva medición en la base de datos. La información de la medición se obtiene del cuerpo de la solicitud. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
\{Promise$<$void$>$\} Respuesta con el resultado de la operación. 
\end{DoxyReturn}


Definición en la línea \textbf{ 40} del archivo \textbf{ medicion\+Controller.\+js}.

