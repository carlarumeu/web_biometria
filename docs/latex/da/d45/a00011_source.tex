\doxysubsection{cookie.\+js}
\label{a00011_source}\index{cookie.js@{cookie.js}}
\textbf{ Ir a la documentaci√≥n de este archivo.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00006\ let\ Cookie\ =\ \{}
\DoxyCodeLine{00007\ \ \ cookie\_namespace:\ \textcolor{stringliteral}{'doxygen\_'},}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \ \ readSetting(cookie,defVal)\ \{}
\DoxyCodeLine{00010\ \ \ \ \ \textcolor{keywordflow}{if}\ (window.chrome)\ \{}
\DoxyCodeLine{00011\ \ \ \ \ \ \ \textcolor{keyword}{const}\ val\ =\ localStorage.getItem(this.cookie\_namespace+cookie)\ ||}
\DoxyCodeLine{00012\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sessionStorage.getItem(this.cookie\_namespace+cookie);}
\DoxyCodeLine{00013\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (val)\ \textcolor{keywordflow}{return}\ val;}
\DoxyCodeLine{00014\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00015\ \ \ \ \ \ \ let\ myCookie\ =\ this.cookie\_namespace+cookie+\textcolor{stringliteral}{"{}="{}};}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (document.cookie)\ \{}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ index\ =\ document.cookie.indexOf(myCookie);}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (index\ !=\ -\/1)\ \{}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ valStart\ =\ index\ +\ myCookie.length;}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \ \ let\ valEnd\ =\ document.cookie.indexOf(\textcolor{stringliteral}{"{};"{}},\ valStart);}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (valEnd\ ==\ -\/1)\ \{}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \ \ \ \ valEnd\ =\ document.cookie.length;}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ document.cookie.substring(valStart,\ valEnd);}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00027\ \ \ \ \ \}}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keywordflow}{return}\ defVal;}
\DoxyCodeLine{00029\ \ \ \},}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ writeSetting(cookie,val,days=10*365)\ \{\ \textcolor{comment}{//\ default\ days='forever',\ 0=session\ cookie,\ -\/1=delete}}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keywordflow}{if}\ (window.chrome)\ \{}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (days==0)\ \{}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ sessionStorage.setItem(this.cookie\_namespace+cookie,val);}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ localStorage.setItem(this.cookie\_namespace+cookie,val);}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00038\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00039\ \ \ \ \ \ \ let\ date\ =\ \textcolor{keyword}{new}\ Date();}
\DoxyCodeLine{00040\ \ \ \ \ \ \ date.setTime(date.getTime()+(days*24*60*60*1000));}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \textcolor{keyword}{const}\ expiration\ =\ days!=0\ ?\ \textcolor{stringliteral}{"{}expires="{}}+date.toGMTString()+\textcolor{stringliteral}{"{};"{}}\ :\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00042\ \ \ \ \ \ \ document.cookie\ =\ this.cookie\_namespace\ +\ cookie\ +\ \textcolor{stringliteral}{"{}="{}}\ +}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ val\ +\ \textcolor{stringliteral}{"{};\ SameSite=Lax;"{}}\ +\ expiration\ +\ \textcolor{stringliteral}{"{}path=/"{}};}
\DoxyCodeLine{00044\ \ \ \ \ \}}
\DoxyCodeLine{00045\ \ \ \},}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ eraseSetting(cookie)\ \{}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordflow}{if}\ (window.chrome)\ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (localStorage.getItem(\textcolor{keyword}{this}.cookie\_namespace+cookie))\ \{}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ localStorage.removeItem(this.cookie\_namespace+cookie);}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (sessionStorage.getItem(\textcolor{keyword}{this}.cookie\_namespace+cookie))\ \{}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ sessionStorage.removeItem(this.cookie\_namespace+cookie);}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00054\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00055\ \ \ \ \ \ \ this.writeSetting(cookie,\textcolor{stringliteral}{''},-\/1);}
\DoxyCodeLine{00056\ \ \ \ \ \}}
\DoxyCodeLine{00057\ \ \ \},}
\DoxyCodeLine{00058\ \}}

\end{DoxyCode}
