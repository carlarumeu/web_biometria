\doxysubsection{Referencia del archivo medicion\+Controller.\+js}
\hypertarget{a00536}{}\label{a00536}\index{medicionController.js@{medicionController.js}}
\doxysubsubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{a00536_a59be084da8908b7d77ff34b25cd84488_a59be084da8908b7d77ff34b25cd84488}{import}} \{ \mbox{\hyperlink{a00638_a5584509a73694d908bebf97464c0c255_a5584509a73694d908bebf97464c0c255}{obtener\+Mediciones}}, \mbox{\hyperlink{a00638_af1e046d467b6f02e2699fc8e3ba539aa_af1e046d467b6f02e2699fc8e3ba539aa}{enviar\+Medicion}}, \mbox{\hyperlink{a00638_a9e697b665d6ba0ad8418337fe2a2d91a_a9e697b665d6ba0ad8418337fe2a2d91a}{obtener\+Ultima\+Medicion}} \} from \textquotesingle{}../services/\mbox{\hyperlink{a01369_a16fbc49c0950a358e869f0b198a74e72_a16fbc49c0950a358e869f0b198a74e72}{medicion\+Service.\+js}}\textquotesingle{}
\item 
\mbox{\hyperlink{a01195_a0c82af93735dc153158c065171f9ee0f_a0c82af93735dc153158c065171f9ee0f}{export}} \mbox{\hyperlink{a01195_a170ccbec74a0565bcf6e232ec10ad9e5_a170ccbec74a0565bcf6e232ec10ad9e5}{const}} \mbox{\hyperlink{a00536_a39f96dc7b51d953e4e65a08564e73d5a_a39f96dc7b51d953e4e65a08564e73d5a}{get\+Mediciones}}
\begin{DoxyCompactList}\small\item\em @function get\+Mediciones @async \end{DoxyCompactList}\item 
\mbox{\hyperlink{a01195_a0c82af93735dc153158c065171f9ee0f_a0c82af93735dc153158c065171f9ee0f}{export}} \mbox{\hyperlink{a01195_a170ccbec74a0565bcf6e232ec10ad9e5_a170ccbec74a0565bcf6e232ec10ad9e5}{const}} \mbox{\hyperlink{a00536_ade4b47fa63ce1524d54b4855698c2aee_ade4b47fa63ce1524d54b4855698c2aee}{post\+Medicion}}
\begin{DoxyCompactList}\small\item\em @function post\+Medicion @async \end{DoxyCompactList}\item 
\mbox{\hyperlink{a01195_a0c82af93735dc153158c065171f9ee0f_a0c82af93735dc153158c065171f9ee0f}{export}} \mbox{\hyperlink{a01195_a170ccbec74a0565bcf6e232ec10ad9e5_a170ccbec74a0565bcf6e232ec10ad9e5}{const}} \mbox{\hyperlink{a00536_a506c19b39343a5688cf622b036cdddd7_a506c19b39343a5688cf622b036cdddd7}{get\+Ultima\+Medicion}}
\begin{DoxyCompactList}\small\item\em @function get\+Ultima\+Medicion @async \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsubsection{Documentación de variables}
\Hypertarget{a00536_a39f96dc7b51d953e4e65a08564e73d5a_a39f96dc7b51d953e4e65a08564e73d5a}\index{medicionController.js@{medicionController.js}!getMediciones@{getMediciones}}
\index{getMediciones@{getMediciones}!medicionController.js@{medicionController.js}}
\doxyparagraph{\texorpdfstring{getMediciones}{getMediciones}}
{\footnotesize\ttfamily \label{a00536_a39f96dc7b51d953e4e65a08564e73d5a_a39f96dc7b51d953e4e65a08564e73d5a} 
\mbox{\hyperlink{a01195_a0c82af93735dc153158c065171f9ee0f_a0c82af93735dc153158c065171f9ee0f}{export}} \mbox{\hyperlink{a01195_a170ccbec74a0565bcf6e232ec10ad9e5_a170ccbec74a0565bcf6e232ec10ad9e5}{const}} get\+Mediciones}

{\bfseries Valor inicial\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ async\ (\mbox{\hyperlink{a00104_a42c43c76081a7df8ae2954f16ee9338b_a42c43c76081a7df8ae2954f16ee9338b}{req}},\ \mbox{\hyperlink{a00104_abde3c35e3bb7e5225dd7f234c685329c_abde3c35e3bb7e5225dd7f234c685329c}{res}})\ =>\ \{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ \{\ lugar,\ tipo\_gas,\ desde\_hora,\ hasta\_hora\ \}\ =\ \mbox{\hyperlink{a00104_a42c43c76081a7df8ae2954f16ee9338b_a42c43c76081a7df8ae2954f16ee9338b}{req}}.query;}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ mediciones\ =\ \mbox{\hyperlink{a01195_a222943fe334ed72f2374717e19f6eba9_a222943fe334ed72f2374717e19f6eba9}{await}}\ \mbox{\hyperlink{a00638_a5584509a73694d908bebf97464c0c255_a5584509a73694d908bebf97464c0c255}{obtenerMediciones}}(lugar,\ tipo\_gas,\ desde\_hora,\ hasta\_hora);}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{a00104_abde3c35e3bb7e5225dd7f234c685329c_abde3c35e3bb7e5225dd7f234c685329c}{res}}.status(200).json(mediciones);}
\DoxyCodeLine{\ \ \}\ \textcolor{keywordflow}{catch}\ (error)\ \{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{a00104_abde3c35e3bb7e5225dd7f234c685329c_abde3c35e3bb7e5225dd7f234c685329c}{res}}.status(400).json(\{\ message:\ error.message\ \});}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


@function get\+Mediciones @async 


\begin{DoxyParams}{Parámetros}
{\em \{\+Object\}} & req -\/ Objeto de solicitud HTTP. \\
\hline
{\em \{\+Object\}} & res -\/ Objeto de respuesta HTTP. @description Obtiene todas las mediciones con filtros opcionales. Los filtros incluyen lugar, tipo de gas, desde\+\_\+hora y hasta\+\_\+hora. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
\{Promise$<$void$>$\} Respuesta con el resultado de la operación. 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{a00536_source_l00018}{18}} del archivo \mbox{\hyperlink{a00536_source}{medicion\+Controller.\+js}}.

\Hypertarget{a00536_a506c19b39343a5688cf622b036cdddd7_a506c19b39343a5688cf622b036cdddd7}\index{medicionController.js@{medicionController.js}!getUltimaMedicion@{getUltimaMedicion}}
\index{getUltimaMedicion@{getUltimaMedicion}!medicionController.js@{medicionController.js}}
\doxyparagraph{\texorpdfstring{getUltimaMedicion}{getUltimaMedicion}}
{\footnotesize\ttfamily \label{a00536_a506c19b39343a5688cf622b036cdddd7_a506c19b39343a5688cf622b036cdddd7} 
\mbox{\hyperlink{a01195_a0c82af93735dc153158c065171f9ee0f_a0c82af93735dc153158c065171f9ee0f}{export}} \mbox{\hyperlink{a01195_a170ccbec74a0565bcf6e232ec10ad9e5_a170ccbec74a0565bcf6e232ec10ad9e5}{const}} get\+Ultima\+Medicion}

{\bfseries Valor inicial\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ async\ (\mbox{\hyperlink{a00104_a42c43c76081a7df8ae2954f16ee9338b_a42c43c76081a7df8ae2954f16ee9338b}{req}},\ \mbox{\hyperlink{a00104_abde3c35e3bb7e5225dd7f234c685329c_abde3c35e3bb7e5225dd7f234c685329c}{res}})\ =>\ \{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ ultimaMedicion\ =\ \mbox{\hyperlink{a01195_a222943fe334ed72f2374717e19f6eba9_a222943fe334ed72f2374717e19f6eba9}{await}}\ \mbox{\hyperlink{a00638_a9e697b665d6ba0ad8418337fe2a2d91a_a9e697b665d6ba0ad8418337fe2a2d91a}{obtenerUltimaMedicion}}();}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (!ultimaMedicion)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{a00104_abde3c35e3bb7e5225dd7f234c685329c_abde3c35e3bb7e5225dd7f234c685329c}{res}}.status(404).json(\{\ message:\ \textcolor{stringliteral}{'No\ se\ encontró\ ninguna\ medición'}\ \});}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{a00104_abde3c35e3bb7e5225dd7f234c685329c_abde3c35e3bb7e5225dd7f234c685329c}{res}}.status(200).json(ultimaMedicion);}
\DoxyCodeLine{\ \ \}\ \textcolor{keywordflow}{catch}\ (error)\ \{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{a00104_abde3c35e3bb7e5225dd7f234c685329c_abde3c35e3bb7e5225dd7f234c685329c}{res}}.status(400).json(\{\ message:\ error.message\ \});}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


@function get\+Ultima\+Medicion @async 


\begin{DoxyParams}{Parámetros}
{\em \{\+Object\}} & req -\/ Objeto de solicitud HTTP. \\
\hline
{\em \{\+Object\}} & res -\/ Objeto de respuesta HTTP. @description Obtiene la última medición registrada. Si no se encuentra ninguna medición, se retorna un error 404. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
\{Promise$<$void$>$\} Respuesta con la última medición o un mensaje de error. 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{a00536_source_l00062}{62}} del archivo \mbox{\hyperlink{a00536_source}{medicion\+Controller.\+js}}.

\Hypertarget{a00536_a59be084da8908b7d77ff34b25cd84488_a59be084da8908b7d77ff34b25cd84488}\index{medicionController.js@{medicionController.js}!import@{import}}
\index{import@{import}!medicionController.js@{medicionController.js}}
\doxyparagraph{\texorpdfstring{import}{import}}
{\footnotesize\ttfamily \label{a00536_a59be084da8908b7d77ff34b25cd84488_a59be084da8908b7d77ff34b25cd84488} 
import \{ \mbox{\hyperlink{a00638_a5584509a73694d908bebf97464c0c255_a5584509a73694d908bebf97464c0c255}{obtener\+Mediciones}}, \mbox{\hyperlink{a00638_af1e046d467b6f02e2699fc8e3ba539aa_af1e046d467b6f02e2699fc8e3ba539aa}{enviar\+Medicion}}, \mbox{\hyperlink{a00638_a9e697b665d6ba0ad8418337fe2a2d91a_a9e697b665d6ba0ad8418337fe2a2d91a}{obtener\+Ultima\+Medicion}} \} from \textquotesingle{}../services/\mbox{\hyperlink{a01369_a16fbc49c0950a358e869f0b198a74e72_a16fbc49c0950a358e869f0b198a74e72}{medicion\+Service.\+js}}\textquotesingle{}}



Definición en la línea \mbox{\hyperlink{a00536_source_l00001}{1}} del archivo \mbox{\hyperlink{a00536_source}{medicion\+Controller.\+js}}.

\Hypertarget{a00536_ade4b47fa63ce1524d54b4855698c2aee_ade4b47fa63ce1524d54b4855698c2aee}\index{medicionController.js@{medicionController.js}!postMedicion@{postMedicion}}
\index{postMedicion@{postMedicion}!medicionController.js@{medicionController.js}}
\doxyparagraph{\texorpdfstring{postMedicion}{postMedicion}}
{\footnotesize\ttfamily \label{a00536_ade4b47fa63ce1524d54b4855698c2aee_ade4b47fa63ce1524d54b4855698c2aee} 
\mbox{\hyperlink{a01195_a0c82af93735dc153158c065171f9ee0f_a0c82af93735dc153158c065171f9ee0f}{export}} \mbox{\hyperlink{a01195_a170ccbec74a0565bcf6e232ec10ad9e5_a170ccbec74a0565bcf6e232ec10ad9e5}{const}} post\+Medicion}

{\bfseries Valor inicial\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ async\ (\mbox{\hyperlink{a00104_a42c43c76081a7df8ae2954f16ee9338b_a42c43c76081a7df8ae2954f16ee9338b}{req}},\ \mbox{\hyperlink{a00104_abde3c35e3bb7e5225dd7f234c685329c_abde3c35e3bb7e5225dd7f234c685329c}{res}})\ =>\ \{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ nuevaMedicion\ =\ \mbox{\hyperlink{a00104_a42c43c76081a7df8ae2954f16ee9338b_a42c43c76081a7df8ae2954f16ee9338b}{req}}.body;}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{a01195_a222943fe334ed72f2374717e19f6eba9_a222943fe334ed72f2374717e19f6eba9}{await}}\ \mbox{\hyperlink{a00638_af1e046d467b6f02e2699fc8e3ba539aa_af1e046d467b6f02e2699fc8e3ba539aa}{enviarMedicion}}(nuevaMedicion);}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{a00104_abde3c35e3bb7e5225dd7f234c685329c_abde3c35e3bb7e5225dd7f234c685329c}{res}}.status(201).json(\{\ message:\ \textcolor{stringliteral}{'Medición\ creada\ correctamente'}\ \});}
\DoxyCodeLine{\ \ \}\ \textcolor{keywordflow}{catch}\ (error)\ \{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{a00104_abde3c35e3bb7e5225dd7f234c685329c_abde3c35e3bb7e5225dd7f234c685329c}{res}}.status(400).json(\{\ message:\ error.message\ \});}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


@function post\+Medicion @async 


\begin{DoxyParams}{Parámetros}
{\em \{\+Object\}} & req -\/ Objeto de solicitud HTTP. \\
\hline
{\em \{\+Object\}} & res -\/ Objeto de respuesta HTTP. @description Crea una nueva medición en la base de datos. La información de la medición se obtiene del cuerpo de la solicitud. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
\{Promise$<$void$>$\} Respuesta con el resultado de la operación. 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{a00536_source_l00040}{40}} del archivo \mbox{\hyperlink{a00536_source}{medicion\+Controller.\+js}}.

