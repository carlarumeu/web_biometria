\doxysection{content-\/disposition}
\hypertarget{a00863}{}\label{a00863}\index{content-\/disposition@{content-\/disposition}}
\label{a00863_autotoc_md248}%
\Hypertarget{a00863_autotoc_md248}%


\href{https://npmjs.org/package/content-disposition}{\texttt{ }} \href{https://npmjs.org/package/content-disposition}{\texttt{ }} \href{https://nodejs.org/en/download}{\texttt{ }} \href{https://github.com/jshttp/content-disposition?query=workflow\%3Aci}{\texttt{ }} \href{https://coveralls.io/r/jshttp/content-disposition?branch=master}{\texttt{ }}

Create and parse HTTP {\ttfamily Content-\/\+Disposition} header\hypertarget{a00863_autotoc_md249}{}\doxysubsection{\texorpdfstring{Installation}{Installation}}\label{a00863_autotoc_md249}

\begin{DoxyCode}{0}
\DoxyCodeLine{\$\ npm\ install\ content-\/disposition}

\end{DoxyCode}
\hypertarget{a00863_autotoc_md250}{}\doxysubsection{\texorpdfstring{API}{API}}\label{a00863_autotoc_md250}

\begin{DoxyCode}{0}
\DoxyCodeLine{var\ \mbox{\hyperlink{a01699_aa1ae8b5aa0df46fcc9f22aba2deb965a_aa1ae8b5aa0df46fcc9f22aba2deb965a}{contentDisposition}}\ =\ require(\textcolor{stringliteral}{'content-\/disposition'})}

\end{DoxyCode}
\hypertarget{a00863_autotoc_md251}{}\doxysubsubsection{\texorpdfstring{content\+Disposition(filename, options)}{content\+Disposition(filename, options)}}\label{a00863_autotoc_md251}
Create an attachment {\ttfamily Content-\/\+Disposition} header value using the given file name, if supplied. The {\ttfamily filename} is optional and if no file name is desired, but you want to specify {\ttfamily options}, set {\ttfamily filename} to {\ttfamily undefined}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{a00104_abde3c35e3bb7e5225dd7f234c685329c_abde3c35e3bb7e5225dd7f234c685329c}{res}}.setHeader(\textcolor{stringliteral}{'Content-\/Disposition'},\ \mbox{\hyperlink{a01699_aa1ae8b5aa0df46fcc9f22aba2deb965a_aa1ae8b5aa0df46fcc9f22aba2deb965a}{contentDisposition}}(\textcolor{stringliteral}{'∫\ maths.pdf'}))}

\end{DoxyCode}


{\bfseries{note}} HTTP headers are of the ISO-\/8859-\/1 character set. If you are writing this header through a means different from {\ttfamily set\+Header} in Node.\+js, you\textquotesingle{}ll want to specify the `\textquotesingle{}binary'\`{} encoding in Node.\+js.\hypertarget{a00863_autotoc_md252}{}\doxysubsubsubsection{\texorpdfstring{Options}{Options}}\label{a00863_autotoc_md252}
{\ttfamily content\+Disposition} accepts these properties in the options object.\hypertarget{a00863_autotoc_md253}{}\doxysubsubsubsubsection{\texorpdfstring{fallback}{fallback}}\label{a00863_autotoc_md253}
If the {\ttfamily filename} option is outside ISO-\/8859-\/1, then the file name is actually stored in a supplemental field for clients that support Unicode file names and a ISO-\/8859-\/1 version of the file name is automatically generated.

This specifies the ISO-\/8859-\/1 file name to override the automatic generation or disables the generation all together, defaults to {\ttfamily true}.


\begin{DoxyItemize}
\item \doxylink{a00844}{A} string will specify the ISO-\/8859-\/1 file name to use in place of automatic generation.
\item {\ttfamily false} will disable including a ISO-\/8859-\/1 file name and only include the Unicode version (unless the file name is already ISO-\/8859-\/1).
\item {\ttfamily true} will enable automatic generation if the file name is outside ISO-\/8859-\/1.
\end{DoxyItemize}

If the {\ttfamily filename} option is ISO-\/8859-\/1 and this option is specified and has a different value, then the {\ttfamily filename} option is encoded in the extended field and this set as the fallback field, even though they are both ISO-\/8859-\/1.\hypertarget{a00863_autotoc_md254}{}\doxysubsubsubsubsection{\texorpdfstring{type}{type}}\label{a00863_autotoc_md254}
Specifies the disposition type, defaults to {\ttfamily "{}attachment"{}}. This can also be {\ttfamily "{}inline"{}}, or any other value (all values except inline are treated like {\ttfamily attachment}, but can convey additional information if both parties agree to it). The type is normalized to lower-\/case.\hypertarget{a00863_autotoc_md255}{}\doxysubsubsection{\texorpdfstring{content\+Disposition.\+parse(string)}{content\+Disposition.\+parse(string)}}\label{a00863_autotoc_md255}

\begin{DoxyCode}{0}
\DoxyCodeLine{var\ disposition\ =\ \mbox{\hyperlink{a01699_aa1ae8b5aa0df46fcc9f22aba2deb965a_aa1ae8b5aa0df46fcc9f22aba2deb965a}{contentDisposition}}.parse(\textcolor{stringliteral}{'attachment;\ filename="{}EURO\ rates.txt"{};\ filename*=UTF-\/8\(\backslash\)'\(\backslash\)'\%e2\%82\%ac\%20rates.txt'})}

\end{DoxyCode}


Parse a {\ttfamily Content-\/\+Disposition} header string. This automatically handles extended ("{}\+Unicode"{}) parameters by decoding them and providing them under the standard parameter name. This will return an object with the following properties (examples are shown for the string `\textquotesingle{}attachment; filename="{}\+EURO rates.\+txt"{}; filename\texorpdfstring{$\ast$}{*}=UTF-\/8\&rsquo;\textbackslash{}\textquotesingle{}e2\%82ac\%20rates.\+txt\textquotesingle{}\`{})\+:


\begin{DoxyItemize}
\item {\ttfamily type}\+: The disposition type (always lower case). Example\+: `\textquotesingle{}attachment'\`{}
\item {\ttfamily parameters}\+: An object of the parameters in the disposition (name of parameter always lower case and extended versions replace non-\/extended versions). Example\+: {\ttfamily \{filename\+: "{}€ rates.\+txt"{}\}}
\end{DoxyItemize}\hypertarget{a00863_autotoc_md256}{}\doxysubsection{\texorpdfstring{Examples}{Examples}}\label{a00863_autotoc_md256}
\hypertarget{a00863_autotoc_md257}{}\doxysubsubsection{\texorpdfstring{Send a file for download}{Send a file for download}}\label{a00863_autotoc_md257}

\begin{DoxyCode}{0}
\DoxyCodeLine{var\ \mbox{\hyperlink{a01699_aa1ae8b5aa0df46fcc9f22aba2deb965a_aa1ae8b5aa0df46fcc9f22aba2deb965a}{contentDisposition}}\ =\ require(\textcolor{stringliteral}{'content-\/disposition'})}
\DoxyCodeLine{var\ destroy\ =\ require('destroy')}
\DoxyCodeLine{var\ \mbox{\hyperlink{a00128_aebcdd70130f7e0b00b39cc981ab0bab0_aebcdd70130f7e0b00b39cc981ab0bab0}{fs}}\ =\ require('\mbox{\hyperlink{a00128_aebcdd70130f7e0b00b39cc981ab0bab0_aebcdd70130f7e0b00b39cc981ab0bab0}{fs}}')}
\DoxyCodeLine{var\ \mbox{\hyperlink{a00101_a55f22d498ca401fddca364855629d1d3_a55f22d498ca401fddca364855629d1d3}{http}}\ =\ require('\mbox{\hyperlink{a00101_a55f22d498ca401fddca364855629d1d3_a55f22d498ca401fddca364855629d1d3}{http}}')}
\DoxyCodeLine{var\ \mbox{\hyperlink{a00116_ac9425cf3d20b1276ed59571b25be3cba_ac9425cf3d20b1276ed59571b25be3cba}{onFinished}}\ =\ require('on-\/finished')}
\DoxyCodeLine{}
\DoxyCodeLine{var\ filePath\ =\ '/path/to/public/plans.pdf'}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{a00101_a55f22d498ca401fddca364855629d1d3_a55f22d498ca401fddca364855629d1d3}{http}}.\mbox{\hyperlink{a01267_a1691cdb731c5313b41e7ecdd05081e96_a1691cdb731c5313b41e7ecdd05081e96}{createServer}}(function\ onRequest\ (\mbox{\hyperlink{a00104_a42c43c76081a7df8ae2954f16ee9338b_a42c43c76081a7df8ae2954f16ee9338b}{req}},\ \mbox{\hyperlink{a00104_abde3c35e3bb7e5225dd7f234c685329c_abde3c35e3bb7e5225dd7f234c685329c}{res}})\ \{}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ set\ headers}}
\DoxyCodeLine{\ \ \mbox{\hyperlink{a00104_abde3c35e3bb7e5225dd7f234c685329c_abde3c35e3bb7e5225dd7f234c685329c}{res}}.setHeader(\textcolor{stringliteral}{'Content-\/Type'},\ \textcolor{stringliteral}{'application/pdf'})}
\DoxyCodeLine{\ \ \mbox{\hyperlink{a00104_abde3c35e3bb7e5225dd7f234c685329c_abde3c35e3bb7e5225dd7f234c685329c}{res}}.setHeader(\textcolor{stringliteral}{'Content-\/Disposition'},\ \mbox{\hyperlink{a01699_aa1ae8b5aa0df46fcc9f22aba2deb965a_aa1ae8b5aa0df46fcc9f22aba2deb965a}{contentDisposition}}(filePath))}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ send\ file}}
\DoxyCodeLine{\ \ var\ \mbox{\hyperlink{a01687_a822bf74d422c61e6caa292f739dc4786_a822bf74d422c61e6caa292f739dc4786}{stream}}\ =\ \mbox{\hyperlink{a00128_aebcdd70130f7e0b00b39cc981ab0bab0_aebcdd70130f7e0b00b39cc981ab0bab0}{fs}}.createReadStream(filePath)}
\DoxyCodeLine{\ \ \mbox{\hyperlink{a01687_a822bf74d422c61e6caa292f739dc4786_a822bf74d422c61e6caa292f739dc4786}{stream}}.pipe(\mbox{\hyperlink{a00104_abde3c35e3bb7e5225dd7f234c685329c_abde3c35e3bb7e5225dd7f234c685329c}{res}})}
\DoxyCodeLine{\ \ \mbox{\hyperlink{a00116_ac9425cf3d20b1276ed59571b25be3cba_ac9425cf3d20b1276ed59571b25be3cba}{onFinished}}(\mbox{\hyperlink{a00104_abde3c35e3bb7e5225dd7f234c685329c_abde3c35e3bb7e5225dd7f234c685329c}{res}},\ \textcolor{keyword}{function}\ ()\ \{}
\DoxyCodeLine{\ \ \ \ destroy(\mbox{\hyperlink{a01687_a822bf74d422c61e6caa292f739dc4786_a822bf74d422c61e6caa292f739dc4786}{stream}})}
\DoxyCodeLine{\ \ \})}
\DoxyCodeLine{\})}

\end{DoxyCode}
\hypertarget{a00863_autotoc_md258}{}\doxysubsection{\texorpdfstring{Testing}{Testing}}\label{a00863_autotoc_md258}

\begin{DoxyCode}{0}
\DoxyCodeLine{\$\ npm\ test}

\end{DoxyCode}
\hypertarget{a00863_autotoc_md259}{}\doxysubsection{\texorpdfstring{References}{References}}\label{a00863_autotoc_md259}

\begin{DoxyItemize}
\item \href{https://tools.ietf.org/html/rfc2616}{\texttt{ RFC 2616\+: Hypertext Transfer Protocol -- HTTP/1.\+1}}
\item \href{https://tools.ietf.org/html/rfc5987}{\texttt{ RFC 5987\+: Character Set and Language Encoding for Hypertext Transfer Protocol (HTTP) Header Field Parameters}}
\item \href{https://tools.ietf.org/html/rfc6266}{\texttt{ RFC 6266\+: Use of the Content-\/\+Disposition Header Field in the Hypertext Transfer Protocol (HTTP)}}
\item \href{http://greenbytes.de/tech/tc2231/}{\texttt{ Test Cases for HTTP Content-\/\+Disposition header field (RFC 6266) and the Encodings defined in RFCs 2047, 2231 and 5987}}
\end{DoxyItemize}\hypertarget{a00863_autotoc_md260}{}\doxysubsection{\texorpdfstring{License}{License}}\label{a00863_autotoc_md260}
\mbox{[}MIT\mbox{]}(LICENSE) 