\doxysubsection{results\+\_\+stream.\+js}
\hypertarget{a00398_source}{}\label{a00398_source}\index{results\_stream.js@{results\_stream.js}}
\mbox{\hyperlink{a00398}{Ir a la documentaciÃ³n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{a00398_source_l00001}\mbox{\hyperlink{a00398_ae2475e10618961c050dcba04e8c42331_ae2475e10618961c050dcba04e8c42331}{00001}}\ \textcolor{stringliteral}{'use\ strict'};}
\DoxyCodeLine{\Hypertarget{a00398_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{a00398_source_l00003}\mbox{\hyperlink{a00398_a2d56116718357c48c86245ea884f5167_a2d56116718357c48c86245ea884f5167}{00003}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{a00398_a2d56116718357c48c86245ea884f5167_a2d56116718357c48c86245ea884f5167}{Readable}}\ =\ require(\textcolor{stringliteral}{'stream'}).Readable;}
\DoxyCodeLine{\Hypertarget{a00398_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{a00398_source_l00005}00005\ \textcolor{comment}{//\ copy-\/paste\ from\ https://github.com/mysqljs/mysql/blob/master/lib/protocol/sequences/Query.js}}
\DoxyCodeLine{\Hypertarget{a00398_source_l00006}\mbox{\hyperlink{a00398_aa4072ba4b6b56b0fb6f4801f17ab2b34_aa4072ba4b6b56b0fb6f4801f17ab2b34}{00006}}\ module.exports\ =\ \textcolor{keyword}{function}(command,\ connectionStream)\ \{}
\DoxyCodeLine{\Hypertarget{a00398_source_l00007}00007\ \ \ command.stream\ =\ \textcolor{keyword}{function}(options)\ \{}
\DoxyCodeLine{\Hypertarget{a00398_source_l00008}00008\ \ \ \ \ \mbox{\hyperlink{a01195_a7bd288ed1cf6b1bfeff2c339b7b90df4_a7bd288ed1cf6b1bfeff2c339b7b90df4}{let}}\ \mbox{\hyperlink{a01687_a822bf74d422c61e6caa292f739dc4786_a822bf74d422c61e6caa292f739dc4786}{stream}};}
\DoxyCodeLine{\Hypertarget{a00398_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{a00398_source_l00010}00010\ \ \ \ \ options\ =\ options\ ||\ \{\};}
\DoxyCodeLine{\Hypertarget{a00398_source_l00011}00011\ \ \ \ \ options.objectMode\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{a00398_source_l00012}00012\ \ \ \ \ (\mbox{\hyperlink{a01687_a822bf74d422c61e6caa292f739dc4786_a822bf74d422c61e6caa292f739dc4786}{stream}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{a00398_a2d56116718357c48c86245ea884f5167_a2d56116718357c48c86245ea884f5167}{Readable}}(options)),}
\DoxyCodeLine{\Hypertarget{a00398_source_l00013}00013\ \ \ \ \ (\mbox{\hyperlink{a01687_a822bf74d422c61e6caa292f739dc4786_a822bf74d422c61e6caa292f739dc4786}{stream}}.\_read\ =\ \textcolor{keyword}{function}()\ \{}
\DoxyCodeLine{\Hypertarget{a00398_source_l00014}00014\ \ \ \ \ \ \ connectionStream.resume();}
\DoxyCodeLine{\Hypertarget{a00398_source_l00015}00015\ \ \ \ \ \});}
\DoxyCodeLine{\Hypertarget{a00398_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{a00398_source_l00017}00017\ \ \ \ \ this.on(\textcolor{stringliteral}{'result'},\ (\mbox{\hyperlink{a01810_a95f67893a9b3186858033466dbe0f176_a95f67893a9b3186858033466dbe0f176}{row}},\ \mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}})\ =>\ \{}
\DoxyCodeLine{\Hypertarget{a00398_source_l00018}00018\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{a01687_a822bf74d422c61e6caa292f739dc4786_a822bf74d422c61e6caa292f739dc4786}{stream}}.push(\mbox{\hyperlink{a01810_a95f67893a9b3186858033466dbe0f176_a95f67893a9b3186858033466dbe0f176}{row}}))\ \{}
\DoxyCodeLine{\Hypertarget{a00398_source_l00019}00019\ \ \ \ \ \ \ \ \ connectionStream.pause();}
\DoxyCodeLine{\Hypertarget{a00398_source_l00020}00020\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00398_source_l00021}00021\ \ \ \ \ \ \ \mbox{\hyperlink{a01687_a822bf74d422c61e6caa292f739dc4786_a822bf74d422c61e6caa292f739dc4786}{stream}}.emit(\textcolor{stringliteral}{'result'},\ \mbox{\hyperlink{a01810_a95f67893a9b3186858033466dbe0f176_a95f67893a9b3186858033466dbe0f176}{row}},\ \mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}});\ \textcolor{comment}{//\ replicate\ old\ emitter}}
\DoxyCodeLine{\Hypertarget{a00398_source_l00022}00022\ \ \ \ \ \});}
\DoxyCodeLine{\Hypertarget{a00398_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{a00398_source_l00024}00024\ \ \ \ \ this.on(\textcolor{stringliteral}{'error'},\ err\ =>\ \{}
\DoxyCodeLine{\Hypertarget{a00398_source_l00025}00025\ \ \ \ \ \ \ \mbox{\hyperlink{a01687_a822bf74d422c61e6caa292f739dc4786_a822bf74d422c61e6caa292f739dc4786}{stream}}.emit(\textcolor{stringliteral}{'error'},\ err);\ \textcolor{comment}{//\ Pass\ on\ any\ errors}}
\DoxyCodeLine{\Hypertarget{a00398_source_l00026}00026\ \ \ \ \ \});}
\DoxyCodeLine{\Hypertarget{a00398_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{a00398_source_l00028}00028\ \ \ \ \ this.on(\textcolor{stringliteral}{'end'},\ ()\ =>\ \{}
\DoxyCodeLine{\Hypertarget{a00398_source_l00029}00029\ \ \ \ \ \ \ \mbox{\hyperlink{a01687_a822bf74d422c61e6caa292f739dc4786_a822bf74d422c61e6caa292f739dc4786}{stream}}.push(\textcolor{keyword}{null});\ \textcolor{comment}{//\ pushing\ null,\ indicating\ EOF}}
\DoxyCodeLine{\Hypertarget{a00398_source_l00030}00030\ \ \ \ \ \});}
\DoxyCodeLine{\Hypertarget{a00398_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{a00398_source_l00032}00032\ \ \ \ \ this.on(\textcolor{stringliteral}{'fields'},\ (\mbox{\hyperlink{a00344_a7dfceba4d8646e1fc3116bc603b378bd_a7dfceba4d8646e1fc3116bc603b378bd}{fields}},\ \mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}})\ =>\ \{}
\DoxyCodeLine{\Hypertarget{a00398_source_l00033}00033\ \ \ \ \ \ \ \mbox{\hyperlink{a01687_a822bf74d422c61e6caa292f739dc4786_a822bf74d422c61e6caa292f739dc4786}{stream}}.emit(\textcolor{stringliteral}{'fields'},\ \mbox{\hyperlink{a00344_a7dfceba4d8646e1fc3116bc603b378bd_a7dfceba4d8646e1fc3116bc603b378bd}{fields}},\ \mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}});\ \textcolor{comment}{//\ replicate\ old\ emitter}}
\DoxyCodeLine{\Hypertarget{a00398_source_l00034}00034\ \ \ \ \ \});}
\DoxyCodeLine{\Hypertarget{a00398_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{a00398_source_l00036}00036\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{a01687_a822bf74d422c61e6caa292f739dc4786_a822bf74d422c61e6caa292f739dc4786}{stream}};}
\DoxyCodeLine{\Hypertarget{a00398_source_l00037}00037\ \ \ \};}
\DoxyCodeLine{\Hypertarget{a00398_source_l00038}00038\ \};}

\end{DoxyCode}
