\doxysection{mime}
\hypertarget{a00937}{}\label{a00937}\index{mime@{mime}}
\label{a00937_autotoc_md1636}%
\Hypertarget{a00937_autotoc_md1636}%


Comprehensive MIME type mapping API based on mime-\/db module.\hypertarget{a00937_autotoc_md1637}{}\doxysubsection{\texorpdfstring{Install}{Install}}\label{a00937_autotoc_md1637}
Install with \href{http://github.com/isaacs/npm}{\texttt{ npm}}\+: \begin{DoxyVerb}npm install mime
\end{DoxyVerb}
\hypertarget{a00937_autotoc_md1638}{}\doxysubsection{\texorpdfstring{Contributing / Testing}{Contributing / Testing}}\label{a00937_autotoc_md1638}
\begin{DoxyVerb}npm run test
\end{DoxyVerb}
\hypertarget{a00937_autotoc_md1639}{}\doxysubsection{\texorpdfstring{Command Line}{Command Line}}\label{a00937_autotoc_md1639}
\begin{DoxyVerb}mime [path_string]
\end{DoxyVerb}


E.\+g. \begin{DoxyVerb}> mime scripts/jquery.js
application/javascript
\end{DoxyVerb}
\hypertarget{a00937_autotoc_md1640}{}\doxysubsection{\texorpdfstring{API -\/ Queries}{API -\/ Queries}}\label{a00937_autotoc_md1640}
\hypertarget{a00937_autotoc_md1641}{}\doxysubsubsection{\texorpdfstring{mime.\+lookup(path)}{mime.\+lookup(path)}}\label{a00937_autotoc_md1641}
Get the mime type associated with a file, if no mime type is found {\ttfamily application/octet-\/stream} is returned. Performs a case-\/insensitive lookup using the extension in {\ttfamily path} (the substring after the last \textquotesingle{}/\textquotesingle{} or \textquotesingle{}.\textquotesingle{}). E.\+g.


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ \mbox{\hyperlink{a00116_ab4d288fe448bcc077971c41ae3797375_ab4d288fe448bcc077971c41ae3797375}{mime}}\ =\ require(\textcolor{stringliteral}{'mime'});}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{a00116_ab4d288fe448bcc077971c41ae3797375_ab4d288fe448bcc077971c41ae3797375}{mime}}.lookup(\textcolor{stringliteral}{'/path/to/file.txt'});\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ =>\ 'text/plain'}}
\DoxyCodeLine{\mbox{\hyperlink{a00116_ab4d288fe448bcc077971c41ae3797375_ab4d288fe448bcc077971c41ae3797375}{mime}}.lookup(\textcolor{stringliteral}{'file.txt'});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ =>\ 'text/plain'}}
\DoxyCodeLine{\mbox{\hyperlink{a00116_ab4d288fe448bcc077971c41ae3797375_ab4d288fe448bcc077971c41ae3797375}{mime}}.lookup(\textcolor{stringliteral}{'.TXT'});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ =>\ 'text/plain'}}
\DoxyCodeLine{\mbox{\hyperlink{a00116_ab4d288fe448bcc077971c41ae3797375_ab4d288fe448bcc077971c41ae3797375}{mime}}.lookup(\textcolor{stringliteral}{'htm'});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ =>\ 'text/html'}}

\end{DoxyCode}
\hypertarget{a00937_autotoc_md1642}{}\doxysubsubsection{\texorpdfstring{mime.\+default\+\_\+type}{mime.\+default\+\_\+type}}\label{a00937_autotoc_md1642}
Sets the mime type returned when {\ttfamily mime.\+lookup} fails to find the extension searched for. (Default is {\ttfamily application/octet-\/stream}.)\hypertarget{a00937_autotoc_md1643}{}\doxysubsubsection{\texorpdfstring{mime.\+extension(type)}{mime.\+extension(type)}}\label{a00937_autotoc_md1643}
Get the default extension for {\ttfamily type}


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{a00116_ab4d288fe448bcc077971c41ae3797375_ab4d288fe448bcc077971c41ae3797375}{mime}}.extension(\textcolor{stringliteral}{'text/html'});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ =>\ 'html'}}
\DoxyCodeLine{\mbox{\hyperlink{a00116_ab4d288fe448bcc077971c41ae3797375_ab4d288fe448bcc077971c41ae3797375}{mime}}.extension(\textcolor{stringliteral}{'application/octet-\/stream'});\ \ \textcolor{comment}{//\ =>\ 'bin'}}

\end{DoxyCode}
\hypertarget{a00937_autotoc_md1644}{}\doxysubsubsection{\texorpdfstring{mime.\+charsets.\+lookup()}{mime.\+charsets.\+lookup()}}\label{a00937_autotoc_md1644}
Map mime-\/type to charset


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{a00116_ab4d288fe448bcc077971c41ae3797375_ab4d288fe448bcc077971c41ae3797375}{mime}}.charsets.lookup(\textcolor{stringliteral}{'text/plain'});\ \ \ \ \ \ \ \ \textcolor{comment}{//\ =>\ 'UTF-\/8'}}

\end{DoxyCode}


(The logic for charset lookups is pretty rudimentary. Feel free to suggest improvements.)\hypertarget{a00937_autotoc_md1645}{}\doxysubsection{\texorpdfstring{API -\/ Defining Custom Types}{API -\/ Defining Custom Types}}\label{a00937_autotoc_md1645}
Custom type mappings can be added on a per-\/project basis via the following APIs.\hypertarget{a00937_autotoc_md1646}{}\doxysubsubsection{\texorpdfstring{mime.\+define()}{mime.\+define()}}\label{a00937_autotoc_md1646}
Add custom mime/extension mappings


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{a00116_ab4d288fe448bcc077971c41ae3797375_ab4d288fe448bcc077971c41ae3797375}{mime}}.define(\{}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{'text/x-\/some-\/format'}:\ [\textcolor{stringliteral}{'x-\/sf'},\ \textcolor{stringliteral}{'x-\/sft'},\ \textcolor{stringliteral}{'x-\/sfml'}],}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{'application/x-\/my-\/type'}:\ [\textcolor{stringliteral}{'x-\/mt'},\ \textcolor{stringliteral}{'x-\/mtt'}],}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ etc\ ...}}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{a00116_ab4d288fe448bcc077971c41ae3797375_ab4d288fe448bcc077971c41ae3797375}{mime}}.lookup(\textcolor{stringliteral}{'x-\/sft'});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ =>\ 'text/x-\/some-\/format'}}

\end{DoxyCode}


The first entry in the extensions array is returned by {\ttfamily mime.\+extension()}. E.\+g.


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{a00116_ab4d288fe448bcc077971c41ae3797375_ab4d288fe448bcc077971c41ae3797375}{mime}}.extension(\textcolor{stringliteral}{'text/x-\/some-\/format'});\ \textcolor{comment}{//\ =>\ 'x-\/sf'}}

\end{DoxyCode}
\hypertarget{a00937_autotoc_md1647}{}\doxysubsubsection{\texorpdfstring{mime.\+load(filepath)}{mime.\+load(filepath)}}\label{a00937_autotoc_md1647}
Load mappings from an Apache "{}.\+types"{} format file


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{a00116_ab4d288fe448bcc077971c41ae3797375_ab4d288fe448bcc077971c41ae3797375}{mime}}.load(\textcolor{stringliteral}{'./my\_project.types'});}

\end{DoxyCode}
 The .types file format is simple -\/ See the {\ttfamily types} dir for examples. 