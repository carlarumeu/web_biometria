\doxysubsection{binary\+\_\+parser.\+js}
\hypertarget{a00374_source}{}\label{a00374_source}\index{binary\_parser.js@{binary\_parser.js}}
\mbox{\hyperlink{a00374}{Ir a la documentaci√≥n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{a00374_source_l00001}\mbox{\hyperlink{a00374_ae2475e10618961c050dcba04e8c42331_ae2475e10618961c050dcba04e8c42331}{00001}}\ \textcolor{stringliteral}{'use\ strict'};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00003}\mbox{\hyperlink{a00374_a58c78333f980a002f412fa9d80bd03a7_a58c78333f980a002f412fa9d80bd03a7}{00003}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{a00374_a58c78333f980a002f412fa9d80bd03a7_a58c78333f980a002f412fa9d80bd03a7}{FieldFlags}}\ =\ require(\textcolor{stringliteral}{'../constants/field\_flags.js'});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00004}\mbox{\hyperlink{a00374_a9e874c65dfd6a2bd1d88ed059fdf48a1_a9e874c65dfd6a2bd1d88ed059fdf48a1}{00004}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{a00374_a9e874c65dfd6a2bd1d88ed059fdf48a1_a9e874c65dfd6a2bd1d88ed059fdf48a1}{Charsets}}\ =\ require(\textcolor{stringliteral}{'../constants/charsets.js'});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00005}\mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{00005}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}\ =\ require(\textcolor{stringliteral}{'../constants/types.js'});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00006}\mbox{\hyperlink{a00374_ae5552fade59a5d2c4b1db5986f2dbd9e_ae5552fade59a5d2c4b1db5986f2dbd9e}{00006}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{a00374_ae5552fade59a5d2c4b1db5986f2dbd9e_ae5552fade59a5d2c4b1db5986f2dbd9e}{helpers}}\ =\ require(\textcolor{stringliteral}{'../helpers'});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00007}\mbox{\hyperlink{a00374_a45963b0c94982452e71fb6a93dd7757e_a45963b0c94982452e71fb6a93dd7757e}{00007}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{a00374_a45963b0c94982452e71fb6a93dd7757e_a45963b0c94982452e71fb6a93dd7757e}{genFunc}}\ =\ require(\textcolor{stringliteral}{'generate-\/function'});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00008}\mbox{\hyperlink{a00374_a24f645545f69d3a5ca8d2b0dc62e0ce2_a24f645545f69d3a5ca8d2b0dc62e0ce2}{00008}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{a00374_a24f645545f69d3a5ca8d2b0dc62e0ce2_a24f645545f69d3a5ca8d2b0dc62e0ce2}{parserCache}}\ =\ require(\textcolor{stringliteral}{'./parser\_cache.js'});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00009}\mbox{\hyperlink{a00374_a08bdaba7bd44b17989465550bb06d934_a08bdaba7bd44b17989465550bb06d934}{00009}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{a00374_a08bdaba7bd44b17989465550bb06d934_a08bdaba7bd44b17989465550bb06d934}{typeNames}}\ =\ [];}
\DoxyCodeLine{\Hypertarget{a00374_source_l00010}\mbox{\hyperlink{a00374_a3f8092171f09af2a1f1a9da7315acaa8_a3f8092171f09af2a1f1a9da7315acaa8}{00010}}\ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{a00197_a23c5666e83bbbceee94adcd0851f50c4_a23c5666e83bbbceee94adcd0851f50c4}{t}}\ \mbox{\hyperlink{a01195_aaf64ea1eb68af5440a0249f7788f1af5_aaf64ea1eb68af5440a0249f7788f1af5}{in}}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}})\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00011}00011\ \ \ \mbox{\hyperlink{a00374_a08bdaba7bd44b17989465550bb06d934_a08bdaba7bd44b17989465550bb06d934}{typeNames}}[\mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}[\mbox{\hyperlink{a00197_a23c5666e83bbbceee94adcd0851f50c4_a23c5666e83bbbceee94adcd0851f50c4}{t}}]]\ =\ \mbox{\hyperlink{a00197_a23c5666e83bbbceee94adcd0851f50c4_a23c5666e83bbbceee94adcd0851f50c4}{t}};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00012}00012\ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00014}\mbox{\hyperlink{a00374_a9815e8378307f50db19258a7e227a9b1_a9815e8378307f50db19258a7e227a9b1}{00014}}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{a00374_a9815e8378307f50db19258a7e227a9b1_a9815e8378307f50db19258a7e227a9b1}{readCodeFor}}(field,\ config,\ options,\ fieldNum)\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00015}00015\ \ \ \textcolor{keyword}{const}\ supportBigNumbers\ =\ Boolean(}
\DoxyCodeLine{\Hypertarget{a00374_source_l00016}00016\ \ \ \ \ options.supportBigNumbers\ ||\ config.supportBigNumbers,}
\DoxyCodeLine{\Hypertarget{a00374_source_l00017}00017\ \ \ );}
\DoxyCodeLine{\Hypertarget{a00374_source_l00018}00018\ \ \ \textcolor{keyword}{const}\ bigNumberStrings\ =\ Boolean(}
\DoxyCodeLine{\Hypertarget{a00374_source_l00019}00019\ \ \ \ \ options.bigNumberStrings\ ||\ config.bigNumberStrings,}
\DoxyCodeLine{\Hypertarget{a00374_source_l00020}00020\ \ \ );}
\DoxyCodeLine{\Hypertarget{a00374_source_l00021}00021\ \ \ \textcolor{keyword}{const}\ timezone\ =\ options.timezone\ ||\ config.timezone;}
\DoxyCodeLine{\Hypertarget{a00374_source_l00022}00022\ \ \ \textcolor{keyword}{const}\ dateStrings\ =\ options.dateStrings\ ||\ config.dateStrings;}
\DoxyCodeLine{\Hypertarget{a00374_source_l00023}00023\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ =\ field.flags\ \&\ \mbox{\hyperlink{a00374_a58c78333f980a002f412fa9d80bd03a7_a58c78333f980a002f412fa9d80bd03a7}{FieldFlags}}.UNSIGNED;}
\DoxyCodeLine{\Hypertarget{a00374_source_l00024}00024\ \ \ \textcolor{keywordflow}{switch}\ (field.columnType)\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00025}00025\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.TINY:}
\DoxyCodeLine{\Hypertarget{a00374_source_l00026}00026\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{unsigned}\ ?\ \textcolor{stringliteral}{'packet.readInt8();'}\ :\ \textcolor{stringliteral}{'packet.readSInt8();'};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00027}00027\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.SHORT:}
\DoxyCodeLine{\Hypertarget{a00374_source_l00028}00028\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{unsigned}\ ?\ \textcolor{stringliteral}{'packet.readInt16();'}\ :\ \textcolor{stringliteral}{'packet.readSInt16();'};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00029}00029\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.LONG:}
\DoxyCodeLine{\Hypertarget{a00374_source_l00030}00030\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.INT24:\ \textcolor{comment}{//\ in\ binary\ protocol\ int24\ is\ encoded\ in\ 4\ bytes\ int32}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00031}00031\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{unsigned}\ ?\ \textcolor{stringliteral}{'packet.readInt32();'}\ :\ \textcolor{stringliteral}{'packet.readSInt32();'};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00032}00032\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.YEAR:}
\DoxyCodeLine{\Hypertarget{a00374_source_l00033}00033\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{'packet.readInt16()'};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00034}00034\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.FLOAT:}
\DoxyCodeLine{\Hypertarget{a00374_source_l00035}00035\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{'packet.readFloat();'};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00036}00036\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.DOUBLE:}
\DoxyCodeLine{\Hypertarget{a00374_source_l00037}00037\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{'packet.readDouble();'};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00038}00038\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.NULL:}
\DoxyCodeLine{\Hypertarget{a00374_source_l00039}00039\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{'null;'};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00040}00040\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.DATE:}
\DoxyCodeLine{\Hypertarget{a00374_source_l00041}00041\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.DATETIME:}
\DoxyCodeLine{\Hypertarget{a00374_source_l00042}00042\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.TIMESTAMP:}
\DoxyCodeLine{\Hypertarget{a00374_source_l00043}00043\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.NEWDATE:}
\DoxyCodeLine{\Hypertarget{a00374_source_l00044}00044\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{a00374_ae5552fade59a5d2c4b1db5986f2dbd9e_ae5552fade59a5d2c4b1db5986f2dbd9e}{helpers}}.typeMatch(field.columnType,\ dateStrings,\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}))\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00045}00045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \`{}packet.readDateTimeString(\$\{parseInt(field.decimals,\ 10)\});\`{};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00046}00046\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00047}00047\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \`{}packet.readDateTime(\$\{\mbox{\hyperlink{a00374_ae5552fade59a5d2c4b1db5986f2dbd9e_ae5552fade59a5d2c4b1db5986f2dbd9e}{helpers}}.srcEscape(timezone)\});\`{};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00048}00048\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.TIME:}
\DoxyCodeLine{\Hypertarget{a00374_source_l00049}00049\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{'packet.readTimeString()'};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00050}00050\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.DECIMAL:}
\DoxyCodeLine{\Hypertarget{a00374_source_l00051}00051\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.NEWDECIMAL:}
\DoxyCodeLine{\Hypertarget{a00374_source_l00052}00052\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (config.decimalNumbers)\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00053}00053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{'packet.parseLengthCodedFloat();'};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00054}00054\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00055}00055\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{'packet.readLengthCodedString("{}ascii"{});'};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00056}00056\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.GEOMETRY:}
\DoxyCodeLine{\Hypertarget{a00374_source_l00057}00057\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{'packet.parseGeometryValue();'};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00058}00058\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.VECTOR:}
\DoxyCodeLine{\Hypertarget{a00374_source_l00059}00059\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{'packet.parseVector()'};\ \ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00060}00060\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.JSON:}
\DoxyCodeLine{\Hypertarget{a00374_source_l00061}00061\ \ \ \ \ \ \ \textcolor{comment}{//\ Since\ for\ JSON\ columns\ mysql\ always\ returns\ charset\ 63\ (BINARY),}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00062}00062\ \ \ \ \ \ \ \textcolor{comment}{//\ we\ have\ to\ handle\ it\ according\ to\ JSON\ specs\ and\ use\ "{}utf8"{},}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00063}00063\ \ \ \ \ \ \ \textcolor{comment}{//\ see\ https://github.com/sidorares/node-\/mysql2/issues/409}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00064}00064\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ config.jsonStrings\ ?\ \textcolor{stringliteral}{'packet.readLengthCodedString("{}utf8"{})'}\ :\ \textcolor{stringliteral}{'JSON.parse(packet.readLengthCodedString("{}utf8"{}));'};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00065}00065\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.LONGLONG:}
\DoxyCodeLine{\Hypertarget{a00374_source_l00066}00066\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!supportBigNumbers)\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00067}00067\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{unsigned}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00068}00068\ \ \ \ \ \ \ \ \ \ \ ?\ \textcolor{stringliteral}{'packet.readInt64JSNumber();'}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00069}00069\ \ \ \ \ \ \ \ \ \ \ :\ \textcolor{stringliteral}{'packet.readSInt64JSNumber();'};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00070}00070\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00071}00071\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (bigNumberStrings)\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00072}00072\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{unsigned}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00073}00073\ \ \ \ \ \ \ \ \ \ \ ?\ \textcolor{stringliteral}{'packet.readInt64String();'}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00074}00074\ \ \ \ \ \ \ \ \ \ \ :\ \textcolor{stringliteral}{'packet.readSInt64String();'};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00075}00075\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00076}00076\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keywordtype}{unsigned}\ ?\ \textcolor{stringliteral}{'packet.readInt64();'}\ :\ \textcolor{stringliteral}{'packet.readSInt64();'};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00078}00078\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{a00374_source_l00079}00079\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (field.characterSet\ ===\ \mbox{\hyperlink{a00374_a9e874c65dfd6a2bd1d88ed059fdf48a1_a9e874c65dfd6a2bd1d88ed059fdf48a1}{Charsets}}.BINARY)\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00080}00080\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{'packet.readLengthCodedBuffer();'};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00081}00081\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00082}00082\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \`{}packet.readLengthCodedString(\mbox{\hyperlink{a00344_a7dfceba4d8646e1fc3116bc603b378bd_a7dfceba4d8646e1fc3116bc603b378bd}{fields}}[\$\{fieldNum\}].encoding)\`{};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00083}00083\ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00084}00084\ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00085}00085\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00086}\mbox{\hyperlink{a00374_aa5ba8fc82448cfd208a589ee41c61a9b_aa5ba8fc82448cfd208a589ee41c61a9b}{00086}}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{a00374_aa5ba8fc82448cfd208a589ee41c61a9b_aa5ba8fc82448cfd208a589ee41c61a9b}{compile}}(\mbox{\hyperlink{a00344_a7dfceba4d8646e1fc3116bc603b378bd_a7dfceba4d8646e1fc3116bc603b378bd}{fields}},\ options,\ config)\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00087}00087\ \ \ \textcolor{keyword}{const}\ parserFn\ =\ \mbox{\hyperlink{a00374_a45963b0c94982452e71fb6a93dd7757e_a45963b0c94982452e71fb6a93dd7757e}{genFunc}}();}
\DoxyCodeLine{\Hypertarget{a00374_source_l00088}00088\ \ \ \textcolor{keyword}{const}\ nullBitmapLength\ =\ Math.floor((\mbox{\hyperlink{a00344_a7dfceba4d8646e1fc3116bc603b378bd_a7dfceba4d8646e1fc3116bc603b378bd}{fields}}.length\ +\ 7\ +\ 2)\ /\ 8);}
\DoxyCodeLine{\Hypertarget{a00374_source_l00089}00089\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00090}00090\ \ \ \textcolor{keyword}{function}\ \mbox{\hyperlink{a01177_a1866ccbf25522c47b5e74afdfd5a90cb_a1866ccbf25522c47b5e74afdfd5a90cb}{wrap}}(field,\ packet)\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00091}00091\ \ \ \ \ \textcolor{keywordflow}{return}\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00092}00092\ \ \ \ \ \ \ \mbox{\hyperlink{a00209_affea7e61106a6a9da029c8af702aaf20_affea7e61106a6a9da029c8af702aaf20}{type}}:\ \mbox{\hyperlink{a00374_a08bdaba7bd44b17989465550bb06d934_a08bdaba7bd44b17989465550bb06d934}{typeNames}}[field.columnType],}
\DoxyCodeLine{\Hypertarget{a00374_source_l00093}00093\ \ \ \ \ \ \ length:\ field.columnLength,}
\DoxyCodeLine{\Hypertarget{a00374_source_l00094}00094\ \ \ \ \ \ \ \mbox{\hyperlink{a00215_af670582b5c8da7efc1bd7486225bcec7_af670582b5c8da7efc1bd7486225bcec7}{db}}:\ field.schema,}
\DoxyCodeLine{\Hypertarget{a00374_source_l00095}00095\ \ \ \ \ \ \ table:\ field.table,}
\DoxyCodeLine{\Hypertarget{a00374_source_l00096}00096\ \ \ \ \ \ \ name:\ field.name,}
\DoxyCodeLine{\Hypertarget{a00374_source_l00097}00097\ \ \ \ \ \ \ string:\ \textcolor{keyword}{function}\ (\mbox{\hyperlink{a01288_a9ad8213a7626ee07aef47950752cac18_a9ad8213a7626ee07aef47950752cac18}{encoding}}\ =\ field.encoding)\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00098}00098\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (field.columnType\ ===\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.JSON\ \&\&\ \mbox{\hyperlink{a01288_a9ad8213a7626ee07aef47950752cac18_a9ad8213a7626ee07aef47950752cac18}{encoding}}\ ===\ field.encoding)\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00099}00099\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Since\ for\ JSON\ columns\ mysql\ always\ returns\ charset\ 63\ (BINARY),}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00100}00100\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ we\ have\ to\ handle\ it\ according\ to\ JSON\ specs\ and\ use\ "{}utf8"{},}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00101}00101\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ see\ https://github.com/sidorares/node-\/mysql2/issues/1661}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00102}00102\ \ \ \ \ \ \ \ \ \ \ console.warn(}
\DoxyCodeLine{\Hypertarget{a00374_source_l00103}00103\ \ \ \ \ \ \ \ \ \ \ \ \ \`{}typeCast:\ \mbox{\hyperlink{a00320_a5c2083d67680a698a2c2d545b649a6f5_a5c2083d67680a698a2c2d545b649a6f5}{JSON}}\ column\ \textcolor{stringliteral}{"{}\$\{field.name\}"{}}\ \mbox{\hyperlink{a00113_a5e3afd97276cc403924d1a449a83ea84_a5e3afd97276cc403924d1a449a83ea84}{is}}\ interpreted\ as\ \mbox{\hyperlink{a00287_afc4d4400b7fde2b9bd952771c47a58c2_afc4d4400b7fde2b9bd952771c47a58c2}{BINARY}}\ by\ \textcolor{keywordflow}{default},\ recommended\ to\ manually\ \textcolor{keyword}{set}\ utf8\ \mbox{\hyperlink{a01288_a9ad8213a7626ee07aef47950752cac18_a9ad8213a7626ee07aef47950752cac18}{encoding}}:\ \(\backslash\)\`{}field.string(\textcolor{stringliteral}{"{}utf8"{}})\(\backslash\)\`{}\`{},}
\DoxyCodeLine{\Hypertarget{a00374_source_l00104}00104\ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\Hypertarget{a00374_source_l00105}00105\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00106}00106\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00107}00107\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{\Hypertarget{a00374_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ [\mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.DATETIME,\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.NEWDATE,\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.TIMESTAMP,\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.DATE].includes(}
\DoxyCodeLine{\Hypertarget{a00374_source_l00109}00109\ \ \ \ \ \ \ \ \ \ \ \ \ field.columnType,}
\DoxyCodeLine{\Hypertarget{a00374_source_l00110}00110\ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{a00374_source_l00111}00111\ \ \ \ \ \ \ \ \ )\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00112}00112\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ packet.readDateTimeString(parseInt(field.decimals,\ 10));}
\DoxyCodeLine{\Hypertarget{a00374_source_l00113}00113\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00114}00114\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00115}00115\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (field.columnType\ ===\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.TINY)\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ =\ field.flags\ \&\ \mbox{\hyperlink{a00374_a58c78333f980a002f412fa9d80bd03a7_a58c78333f980a002f412fa9d80bd03a7}{FieldFlags}}.UNSIGNED;}
\DoxyCodeLine{\Hypertarget{a00374_source_l00117}00117\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ String(\textcolor{keywordtype}{unsigned}\ ?\ packet.readInt8()\ :\ packet.readSInt8());}
\DoxyCodeLine{\Hypertarget{a00374_source_l00119}00119\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00120}00120\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00121}00121\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (field.columnType\ ===\ \mbox{\hyperlink{a00374_acb7e0e89b59629f5d62ba2f3ecd63029_acb7e0e89b59629f5d62ba2f3ecd63029}{Types}}.TIME)\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00122}00122\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ packet.readTimeString();}
\DoxyCodeLine{\Hypertarget{a00374_source_l00123}00123\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00124}00124\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00125}00125\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ packet.readLengthCodedString(\mbox{\hyperlink{a01288_a9ad8213a7626ee07aef47950752cac18_a9ad8213a7626ee07aef47950752cac18}{encoding}});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00126}00126\ \ \ \ \ \ \ \},}
\DoxyCodeLine{\Hypertarget{a00374_source_l00127}00127\ \ \ \ \ \ \ buffer:\ \textcolor{keyword}{function}\ ()\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00128}00128\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ packet.readLengthCodedBuffer();}
\DoxyCodeLine{\Hypertarget{a00374_source_l00129}00129\ \ \ \ \ \ \ \},}
\DoxyCodeLine{\Hypertarget{a00374_source_l00130}00130\ \ \ \ \ \ \ geometry:\ \textcolor{keyword}{function}\ ()\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00131}00131\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ packet.parseGeometryValue();}
\DoxyCodeLine{\Hypertarget{a00374_source_l00132}00132\ \ \ \ \ \ \ \},}
\DoxyCodeLine{\Hypertarget{a00374_source_l00133}00133\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00134}00134\ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00135}00135\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00136}00136\ \ \ parserFn(\textcolor{stringliteral}{'(function()\{'});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00137}00137\ \ \ parserFn(\textcolor{stringliteral}{'return\ class\ BinaryRow\ \{'});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00138}00138\ \ \ parserFn(\textcolor{stringliteral}{'constructor()\ \{'});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00139}00139\ \ \ parserFn(\textcolor{charliteral}{'\}'});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00140}00140\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00141}00141\ \ \ parserFn(\textcolor{stringliteral}{'next(packet,\ fields,\ options)\ \{'});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00142}00142\ \ \ \textcolor{keywordflow}{if}\ (options.rowsAsArray)\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00143}00143\ \ \ \ \ parserFn(\`{}\textcolor{keyword}{const}\ result\ =\ \textcolor{keyword}{new}\ Array(\$\{\mbox{\hyperlink{a00344_a7dfceba4d8646e1fc3116bc603b378bd_a7dfceba4d8646e1fc3116bc603b378bd}{fields}}.length\});\`{});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00144}00144\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00145}00145\ \ \ \ \ parserFn(\textcolor{stringliteral}{'const\ result\ =\ \{\};'});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00146}00146\ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00147}00147\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00148}00148\ \ \ \textcolor{comment}{//\ Global\ typeCast}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00149}00149\ \ \ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{\Hypertarget{a00374_source_l00150}00150\ \ \ \ \ typeof\ config.typeCast\ ===\ \textcolor{stringliteral}{'function'}\ \&\&}
\DoxyCodeLine{\Hypertarget{a00374_source_l00151}00151\ \ \ \ \ typeof\ options.typeCast\ !==\ \textcolor{stringliteral}{'function'}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00152}00152\ \ \ )\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00153}00153\ \ \ \ \ options.typeCast\ =\ config.typeCast;}
\DoxyCodeLine{\Hypertarget{a00374_source_l00154}00154\ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00155}00155\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00156}00156\ \ \ parserFn(\textcolor{stringliteral}{'packet.readInt8();'});\ \textcolor{comment}{//\ status\ byte}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00157}00157\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{a01195_a7bd288ed1cf6b1bfeff2c339b7b90df4_a7bd288ed1cf6b1bfeff2c339b7b90df4}{let}}\ \mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}}\ =\ 0;\ \mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}}\ <\ nullBitmapLength;\ ++\mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}})\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00158}00158\ \ \ \ \ parserFn(\`{}\textcolor{keyword}{const}\ nullBitmaskByte\$\{\mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}}\}\ =\ packet.readInt8();\`{});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00159}00159\ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00160}00160\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00161}00161\ \ \ \mbox{\hyperlink{a01195_a7bd288ed1cf6b1bfeff2c339b7b90df4_a7bd288ed1cf6b1bfeff2c339b7b90df4}{let}}\ lvalue\ =\ \textcolor{stringliteral}{''};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00162}00162\ \ \ \mbox{\hyperlink{a01195_a7bd288ed1cf6b1bfeff2c339b7b90df4_a7bd288ed1cf6b1bfeff2c339b7b90df4}{let}}\ currentFieldNullBit\ =\ 4;}
\DoxyCodeLine{\Hypertarget{a00374_source_l00163}00163\ \ \ \mbox{\hyperlink{a01195_a7bd288ed1cf6b1bfeff2c339b7b90df4_a7bd288ed1cf6b1bfeff2c339b7b90df4}{let}}\ nullByteIndex\ =\ 0;}
\DoxyCodeLine{\Hypertarget{a00374_source_l00164}00164\ \ \ \mbox{\hyperlink{a01195_a7bd288ed1cf6b1bfeff2c339b7b90df4_a7bd288ed1cf6b1bfeff2c339b7b90df4}{let}}\ fieldName\ =\ \textcolor{stringliteral}{''};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00165}00165\ \ \ \mbox{\hyperlink{a01195_a7bd288ed1cf6b1bfeff2c339b7b90df4_a7bd288ed1cf6b1bfeff2c339b7b90df4}{let}}\ tableName\ =\ \textcolor{stringliteral}{''};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00166}00166\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00167}00167\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{a01195_a7bd288ed1cf6b1bfeff2c339b7b90df4_a7bd288ed1cf6b1bfeff2c339b7b90df4}{let}}\ \mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}}\ =\ 0;\ \mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}}\ <\ \mbox{\hyperlink{a00344_a7dfceba4d8646e1fc3116bc603b378bd_a7dfceba4d8646e1fc3116bc603b378bd}{fields}}.length;\ \mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}}++)\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00168}00168\ \ \ \ \ fieldName\ =\ \mbox{\hyperlink{a00374_ae5552fade59a5d2c4b1db5986f2dbd9e_ae5552fade59a5d2c4b1db5986f2dbd9e}{helpers}}.fieldEscape(\mbox{\hyperlink{a00344_a7dfceba4d8646e1fc3116bc603b378bd_a7dfceba4d8646e1fc3116bc603b378bd}{fields}}[\mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}}].name);}
\DoxyCodeLine{\Hypertarget{a00374_source_l00169}00169\ \ \ \ \ \textcolor{comment}{//\ parserFn(`//\ \$\{fieldName\}:\ \$\{typeNames[fields[i].columnType]\}`);}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00170}00170\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00171}00171\ \ \ \ \ \textcolor{keywordflow}{if}\ (typeof\ options.nestTables\ ===\ \textcolor{stringliteral}{'string'})\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00172}00172\ \ \ \ \ \ \ lvalue\ =\ \`{}result[\$\{\mbox{\hyperlink{a00374_ae5552fade59a5d2c4b1db5986f2dbd9e_ae5552fade59a5d2c4b1db5986f2dbd9e}{helpers}}.fieldEscape(\mbox{\hyperlink{a00344_a7dfceba4d8646e1fc3116bc603b378bd_a7dfceba4d8646e1fc3116bc603b378bd}{fields}}[\mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}}].table\ +\ options.nestTables\ +\ \mbox{\hyperlink{a00344_a7dfceba4d8646e1fc3116bc603b378bd_a7dfceba4d8646e1fc3116bc603b378bd}{fields}}[\mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}}].name)\}]\`{};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00173}00173\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (options.nestTables\ ===\ \textcolor{keyword}{true})\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00174}00174\ \ \ \ \ \ \ tableName\ =\ \mbox{\hyperlink{a00374_ae5552fade59a5d2c4b1db5986f2dbd9e_ae5552fade59a5d2c4b1db5986f2dbd9e}{helpers}}.fieldEscape(\mbox{\hyperlink{a00344_a7dfceba4d8646e1fc3116bc603b378bd_a7dfceba4d8646e1fc3116bc603b378bd}{fields}}[\mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}}].table);}
\DoxyCodeLine{\Hypertarget{a00374_source_l00175}00175\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00176}00176\ \ \ \ \ \ \ parserFn(\`{}\textcolor{keywordflow}{if}\ (!result[\$\{tableName\}])\ result[\$\{tableName\}]\ =\ \{\};\`{});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00177}00177\ \ \ \ \ \ \ lvalue\ =\ \`{}result[\$\{tableName\}][\$\{fieldName\}]\`{};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00178}00178\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (options.rowsAsArray)\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00179}00179\ \ \ \ \ \ \ lvalue\ =\ \`{}result[\$\{\mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}}.toString(10)\}]\`{};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00180}00180\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00181}00181\ \ \ \ \ \ \ lvalue\ =\ \`{}result[\$\{fieldName\}]\`{};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00182}00182\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00183}00183\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00184}00184\ \ \ \ \ parserFn(\`{}\textcolor{keywordflow}{if}\ (nullBitmaskByte\$\{nullByteIndex\}\ \&\ \$\{currentFieldNullBit\})\ \`{});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00185}00185\ \ \ \ \ parserFn(\`{}\$\{lvalue\}\ =\ \textcolor{keyword}{null};\`{});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00186}00186\ \ \ \ \ parserFn(\textcolor{stringliteral}{'else\ \{'});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00187}00187\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00188}00188\ \ \ \ \ \textcolor{keywordflow}{if}\ (options.typeCast\ ===\ \textcolor{keyword}{false})\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00189}00189\ \ \ \ \ \ \ parserFn(\`{}\$\{lvalue\}\ =\ packet.readLengthCodedBuffer();\`{});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00190}00190\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00191}00191\ \ \ \ \ \ \ \textcolor{keyword}{const}\ fieldWrapperVar\ =\ \`{}fieldWrapper\$\{\mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}}\}\`{};}
\DoxyCodeLine{\Hypertarget{a00374_source_l00192}00192\ \ \ \ \ \ \ parserFn(\`{}\textcolor{keyword}{const}\ \$\{fieldWrapperVar\}\ =\ \mbox{\hyperlink{a01177_a1866ccbf25522c47b5e74afdfd5a90cb_a1866ccbf25522c47b5e74afdfd5a90cb}{wrap}}(\mbox{\hyperlink{a00344_a7dfceba4d8646e1fc3116bc603b378bd_a7dfceba4d8646e1fc3116bc603b378bd}{fields}}[\$\{\mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}}\}],\ packet);\`{});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00193}00193\ \ \ \ \ \ \ \textcolor{keyword}{const}\ readCode\ =\ \mbox{\hyperlink{a00374_a9815e8378307f50db19258a7e227a9b1_a9815e8378307f50db19258a7e227a9b1}{readCodeFor}}(\mbox{\hyperlink{a00344_a7dfceba4d8646e1fc3116bc603b378bd_a7dfceba4d8646e1fc3116bc603b378bd}{fields}}[\mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}}],\ config,\ options,\ \mbox{\hyperlink{a00197_a5e25b1d1bed9ab5f3174b76d6a722180_a5e25b1d1bed9ab5f3174b76d6a722180}{i}});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00194}00194\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00195}00195\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (typeof\ options.typeCast\ ===\ \textcolor{stringliteral}{'function'})\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00196}00196\ \ \ \ \ \ \ \ \ parserFn(}
\DoxyCodeLine{\Hypertarget{a00374_source_l00197}00197\ \ \ \ \ \ \ \ \ \ \ \`{}\$\{lvalue\}\ =\ options.typeCast(\$\{fieldWrapperVar\},\ \textcolor{keyword}{function}()\ \{\ \textcolor{keywordflow}{return}\ \$\{readCode\}\ \});\`{},}
\DoxyCodeLine{\Hypertarget{a00374_source_l00198}00198\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\Hypertarget{a00374_source_l00199}00199\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00200}00200\ \ \ \ \ \ \ \ \ parserFn(\`{}\$\{lvalue\}\ =\ \$\{readCode\};\`{});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00201}00201\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00202}00202\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00203}00203\ \ \ \ \ parserFn(\textcolor{charliteral}{'\}'});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00204}00204\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00205}00205\ \ \ \ \ currentFieldNullBit\ *=\ 2;}
\DoxyCodeLine{\Hypertarget{a00374_source_l00206}00206\ \ \ \ \ \textcolor{keywordflow}{if}\ (currentFieldNullBit\ ===\ 0x100)\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00207}00207\ \ \ \ \ \ \ currentFieldNullBit\ =\ 1;}
\DoxyCodeLine{\Hypertarget{a00374_source_l00208}00208\ \ \ \ \ \ \ nullByteIndex++;}
\DoxyCodeLine{\Hypertarget{a00374_source_l00209}00209\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00210}00210\ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00211}00211\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00212}00212\ \ \ parserFn(\textcolor{stringliteral}{'return\ result;'});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00213}00213\ \ \ parserFn(\textcolor{charliteral}{'\}'});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00214}00214\ \ \ parserFn(\textcolor{stringliteral}{'\};'})(\textcolor{stringliteral}{'\})()'});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00215}00215\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00216}00216\ \ \ \textcolor{keywordflow}{if}\ (config.debug)\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00217}00217\ \ \ \ \ \mbox{\hyperlink{a00374_ae5552fade59a5d2c4b1db5986f2dbd9e_ae5552fade59a5d2c4b1db5986f2dbd9e}{helpers}}.printDebugWithCode(}
\DoxyCodeLine{\Hypertarget{a00374_source_l00218}00218\ \ \ \ \ \ \ \textcolor{stringliteral}{'Compiled\ binary\ protocol\ row\ parser'},}
\DoxyCodeLine{\Hypertarget{a00374_source_l00219}00219\ \ \ \ \ \ \ parserFn.toString(),}
\DoxyCodeLine{\Hypertarget{a00374_source_l00220}00220\ \ \ \ \ );}
\DoxyCodeLine{\Hypertarget{a00374_source_l00221}00221\ \ \ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00222}00222\ \ \ \textcolor{keywordflow}{return}\ parserFn.toFunction(\{\ \mbox{\hyperlink{a01177_a1866ccbf25522c47b5e74afdfd5a90cb_a1866ccbf25522c47b5e74afdfd5a90cb}{wrap}}\ \});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00223}00223\ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00224}00224\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00225}00225\ \textcolor{keyword}{function}\ \mbox{\hyperlink{a01810_a6aaddda6b6148686515bec8f76cbbbe2_a6aaddda6b6148686515bec8f76cbbbe2}{getBinaryParser}}(\mbox{\hyperlink{a00344_a7dfceba4d8646e1fc3116bc603b378bd_a7dfceba4d8646e1fc3116bc603b378bd}{fields}},\ options,\ config)\ \{}
\DoxyCodeLine{\Hypertarget{a00374_source_l00226}00226\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{a00374_a24f645545f69d3a5ca8d2b0dc62e0ce2_a24f645545f69d3a5ca8d2b0dc62e0ce2}{parserCache}}.getParser(\textcolor{stringliteral}{'binary'},\ \mbox{\hyperlink{a00344_a7dfceba4d8646e1fc3116bc603b378bd_a7dfceba4d8646e1fc3116bc603b378bd}{fields}},\ options,\ config,\ \mbox{\hyperlink{a00374_aa5ba8fc82448cfd208a589ee41c61a9b_aa5ba8fc82448cfd208a589ee41c61a9b}{compile}});}
\DoxyCodeLine{\Hypertarget{a00374_source_l00227}00227\ \}}
\DoxyCodeLine{\Hypertarget{a00374_source_l00228}00228\ }
\DoxyCodeLine{\Hypertarget{a00374_source_l00229}00229\ module.exports\ =\ \mbox{\hyperlink{a01810_a6aaddda6b6148686515bec8f76cbbbe2_a6aaddda6b6148686515bec8f76cbbbe2}{getBinaryParser}};}

\end{DoxyCode}
